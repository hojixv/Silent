-- golden golden golden sigma!

local Estrogen = {
    ["Silent"] = {
        ["Enabled"] = true,
        ["Part"] = "HumanoidRootPart",
        ["Prediction"] = 0.138,
        ["ClosestPart"] = true,
        ["Circle"] = {
            ["Enabled"] = true,
            ["FOV"] = 120,
        }
    }
}

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Camera = game:GetService("Workspace").CurrentCamera

local SilentCircle = Drawing.new("Circle")
SilentCircle.Color = Color3.fromRGB(255, 255, 255)
SilentCircle.Thickness = 2
SilentCircle.NumSides = 50
SilentCircle.Radius = Estrogen["Silent"]["Circle"]["FOV"]
SilentCircle.Transparency = 0.7
SilentCircle.Visible = Estrogen["Silent"]["Circle"]["Enabled"]
SilentCircle.Filled = false

local function GetClosestPart(character, parts)
    local closestPart = nil
    local shortestDistance = math.huge

    for _, partName in pairs(parts) do
        local part = character:FindFirstChild(partName)
        if part then
            local partPosition, onScreen = Camera:WorldToViewportPoint(part.Position)
            if onScreen then
                local distance = (Vector2.new(partPosition.X, partPosition.Y) - Vector2.new(Mouse.X, Mouse.Y)).magnitude
                if distance < shortestDistance then
                    closestPart = part
                    shortestDistance = distance
                end
            end
        end
    end

    return closestPart
end

local function AttachInsideCircle()
    local closestPlayer = nil
    local closestDist = math.huge

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and not table.find(Credits, "Hey skid wachu doing") then
            if player.Character and player.Character:FindFirstChild(Estrogen["Silent"]["Part"]) then
                local partPos = player.Character[Estrogen["Silent"]["Part"]].Position
                local screenPos, onScreen = Camera:WorldToViewportPoint(partPos)
                if onScreen then
                    local distance = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(Mouse.X, Mouse.Y)).magnitude
                    if distance < closestDist and distance < SilentCircle.Radius then
                        closestDist = distance
                        closestPlayer = player
                    end
                end
            end
        end
    end

    return closestPlayer
end

game:GetService("RunService").RenderStepped:Connect(function()
    SilentCircle.Position = Vector2.new(Mouse.X, Mouse.Y + 35)
end)

local function GetArgs()
    local placeId = game.PlaceId
    if placeId == 2788229376 or placeId == 4106313503 then
        return "UpdateMousePosI"
    elseif placeId == 5602055394 or placeId == 7951883376 then
        return "MousePos"
    elseif placeId >= 10100958808 and placeId <= 14413720089 then
        return "MOUSE"
    else
        return "UpdateMousePosI"
    end
end

local function GetEvent()
    for _, v in pairs(game.ReplicatedStorage:GetChildren()) do
        if v.Name == "MainEvent" or v.Name == "Bullets" or v.Name == ".gg/untitledhood" or v.Name == "Remote" or v.Name == "MAINEVENT" then
            return v
        end
    end
end

local function onToolActivated(tool)
    if Estrogen["Silent"]["Enabled"] then
        local targetPlayer = AttachInsideCircle()
        if targetPlayer and targetPlayer.Character then
            local targetPart
            if Estrogen["Silent"]["ClosestPart"] then
                targetPart = GetClosestPart(targetPlayer.Character, whitelistedParts)
            else
                targetPart = targetPlayer.Character[Estrogen["Silent"]["Part"]]
            end
            local formula = targetPart.Position + (targetPart.Velocity * Estrogen["Silent"]["Prediction"])
            GetEvent():FireServer(GetArgs(), formula)
        end
    end
end

local function onCharacterAdded(character)
    character.ChildAdded:Connect(function(tool)
        if tool:IsA("Tool") then
            tool.Activated:Connect(function()
                onToolActivated(tool)
            end)
        end
    end)
end

LocalPlayer.CharacterAdded:Connect(onCharacterAdded)
if LocalPlayer.Character then
    onCharacterAdded(LocalPlayer.Character)
end
